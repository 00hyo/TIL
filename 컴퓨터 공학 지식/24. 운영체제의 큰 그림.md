# 24. ****운영체제의 큰 그림****

목표 

- 커널이란
- 운영체제의 서비스 종류
- 시스템 콜과 이중 모드

### 운영체제의 심장, 커널

운영체제는 현존하는 프로그램 중 규모가 가장 큰 프로그램 중 하나

다양한 종류의 운영체제

Window, android, IOS, Linux, macOS

다양한 기능 제공 

 **+  핵심적인 서비스 존재 :** 컴퓨터 자원 접근 조작 기능 , 프로그램을 안전하게 실행되게 관리하는 기능 

이런 **운영체제의 핵심 서비스를 담당하는 부분은 커널(Kernel)**이다

운영체제에 속하는데 커널에는 속하지 않는 기능? 

- 유저 인터페이스(UI)
사용자와 컴퓨터 간의 통로일 뿐 운영체제의 핵시 기능(커널)은 아니다.

사용자가 실행하는 프로그램 자원에 직접 접근 가능 한가? 

사용자가 사용하는 메모장, 웹브라우저 자원(메모리, CPU, SSD 하드디스크)에 직접 접근하면 안된다.

할 수 없다.

직접 접근하면 위험 CPU 사용중 충돌 , SSD 저장 삭제..

### 이중모드와 시스템 호출

운영체제는 응용프로그램들이 자원 접근하려 할 때 
오직 자신(운영체제)을 통해서만 접근하도록 하여 자원을 보호 

⇒ 운영체제는 자원 접근을 대행하는 일종의 문지기이다. 
응용프로그램들은 운영체제에게 부탁

### 이중 모드

- CPU가 명령어를 실행하는 모드를 크게 **사용자 모드**와 **커널 모드**로 구분하는 방식
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e4274afd-a657-43c8-89f6-723c267a05d8/Untitled.png)
    
- 사용자 모드
    - 운영체제 서비스를 제공 받을 수 없는 실행 모드
    - 커널 영역의 코드를 실행할 수 없는 실행 모드
    - 자원 접근 불가
- 커널 모드
    - 운영체제의 서비스를 제공받을 수 있는 실행 모드
    - 자원 접근을 비롯한 모든 명령어 실행 가능
- 플래그 레지스터 - 슈퍼바이저 플래그
    - 1일 때 커널 모드로 실행 중
    - 0일 때 사용자 모드로 실행 중

### 시스템 호출

운영체제 서비스를 제공받기 위해 커널 모드로 전환하는 방법 

특정 명령어를 실행 해 인터럽트를 걸어 시스템 호출을 함으로 전환

- 커널 모드로 전환하여 실행하기 위해 호출
- 일종의 소프트웨어 인터럽트

### 운영체제의 핵심 서비스

- 프로세스 관리
- 자원 접근 및 할당
- 파일 시스템 관리

ing
