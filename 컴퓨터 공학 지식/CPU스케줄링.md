# CPU스케줄링

### CPU스케줄링이란

운영체제가 프로세스들에게 공정하고 합리적으로 CPU자원을 배분 하는 것 

### 공정한 CPU 스케줄링?

프로세스마다 빨리 처리 해야하는 프로세스부터 실행 프로세스마다 우선순위가 있다

입출력 작업이 많은 프로세스 (입출력 집중 프로세스)의 우선순위는 CPU작업이 많은 프로세스 (CPU 집중 프로세스)의 우선순위보다 높다.

### 프로세스 우선순위(Priority)

우선순위는 프로세스의 pcb에 저장되며 pcb를 기반으로 어떤 프로세스가 cpu를 얼마나 많이 사용하게 될건지 결정한다. 

일부 우선순위의 경우에는 사용자가 직접 설정 가능하다.  

리눅스

<img width="500" alt="image" src="https://user-images.githubusercontent.com/79884004/234017228-eb77f236-6a85-43b3-96c5-2e73d5ff1903.png">

윈도우 - process explorer

### 스케줄링 큐

 CPU를 요구하는 새로운 프로세스, 메모리를 요구를하는 프로세스, 입출력 장치를 요구하는 프로세스 한꺼번에 생길 때 모든 PCB 검사하는 것은 비 효율적이다. 

→ 스케줄링 큐 사용

어떤 자원을 이용하고 싶어하는 프로세스들이 서있는 줄

![스크린샷 2023-04-24 오후 10 58 43](https://user-images.githubusercontent.com/79884004/234018950-94b0538d-a5ad-4f5f-961f-490b4ecbbad9.png)

*스케줄링에서의 큐는 반드시 선입선출 방식일 필요는 없다.

### 준비 큐와 대기 큐

- 준비 큐
    - CPU를 이요하기 위해 기다리는 줄
- 대기 큐
    - 입출력장치를 이용하기 위해 기다리는 줄

*같은 큐 내에서도 우선순위 별로 처리된다. 

### 프로세스 상태 다이어 그램

![스크린샷 2023-04-24 오후 11 08 41](https://user-images.githubusercontent.com/79884004/234021713-de468ec8-0515-46c6-a9dc-d27764d024ad.png)


프로세스 큐를 이용해서 프로세스의 상태를 관리하고 프로세스 한테 자원을 할당한다. 

### 선점형과 비선점형 스케줄링

운영체제 커널을 이해할 때 중요한 개념

- 선점형 스케줄링(Preemptive Scheduling)
현재 CPU를 사용 중인 프로세스로 부터 CPU 자원을 빼앗아 다른 프로세스에 할당
    - 장: 자원의 독점 방지, 골고루 자원 분배
    - 단:  문맥 교환 과정에서 오버헤드 발생
- 비선점형 스케줄링 (non-preemptive scheduling)
현재 CPU를 사용 중인 프로세스의 작업이 끝날 때까지 프로세스 기다리기
    - 장: 문맥 교환 과정에서 오버헤드 발생 적음
    - 단:  모든 프로세스가 골고루 자원 이용 어려움
