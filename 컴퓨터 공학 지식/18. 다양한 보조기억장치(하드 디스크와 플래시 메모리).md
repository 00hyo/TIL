# 18. ****다양한 보조기억장치(하드 디스크와 플래시 메모리)****

## 하드 디스크

### 자기적인 방식으로 데이터 저장

- 플래터 양면 모두 사용
- RPM (Revolution Per Minute): 분당 회전수
- 컴퓨터에 넣었다 뺐다 사용
- 플래터: 수많은 N극과 S극이 덮여있는 판
- 스핀들: 플래터를 회저시키는 구성요소

![Untitled (6)](https://user-images.githubusercontent.com/79884004/230232554-f57d3b8b-badd-4a3e-a874-fb56460d9e00.png)

### 구성

- 일반적으로 모든 헤드가 디스크 암에 부탁되어 함께 이동
- 플래터면 마다 헤더가 있어 자기적인 물질들을 읽어낼 수 있다.

![Untitled (7)](https://user-images.githubusercontent.com/79884004/230232560-c960a628-023d-46ec-b0f9-61c8d9a50e8d.png)

### 저장 단위

- 트랙(Track)과 섹터(Sector) 단위로 저장
- 트랙: 플래터를 이루고 있는 동심원을 그리는 저장 단위
- 섹터: 나누어진 트랙을 한 조각
- 하나 이상의 섹터를 묶어 블록(block)이라 표현
- 섹터의 크기 : 512바이트 ~ 4096바이트
- 플래터는 트랙과 섹터로 나뉘고 같은 트랙모여 실린더를 이룬다.
- 실린더(Cylinder): 여러 겹의 플래터 상에서 **같은 트랙이 위치 한 곳**을 모아 연결한 논리적 단위
- 연속된 정보는 한 실린더에 기록

![Untitled (8)](https://user-images.githubusercontent.com/79884004/230232563-7a49e3d6-6e91-459b-a270-83ce312f30e4.png)

### 데이터 접근과정

- 하드 디스크가 저장된 데이터에 접근하는 시간
    - 탐색 시간
        - 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
    - 회전 지연
        - 헤드가 있는 곳으로 플래터를 회전시키는 시간
    - 전송 시간
        - 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간

- 실제 하드디스크 동작 
[https://www.youtube.com/shorts/0i1Ynk2WVGw](https://www.youtube.com/shorts/0i1Ynk2WVGw)
    
    신기하네..
    

## 플래시 메모리

전기적으로 데이터를 읽고 쓰는 반도체 기반 저장 장치

*범용성이 넓은 저장 장치이며 보조기억장치로도 많이 사용된다. 

### 플래시 메모리 종류

- NAND 플래시 메모리
- NOR 플래시 메모리

### 셀 (Cell)

- 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
- 이 셀이 모여 MB, GB, TB 저장 장치가 된다.
- 한 셀에 1비트(SLC), 2비트(MLC), 3비트(TLC), 4비트(QLC)를 저장할 수 있는 플래시 메모리가 각각 있다. → 성능 가격 수명을 결정한다.

### SLC, MLC, TLC

쉽게 생각해 보기 위해 사람 한 명을 1비트, 셀은 집이라 생각해보면 

- SLC ⇒ 한 집에 한 명
    - 한 셀로 두개의 정보 표현 (1,0)
    - 비트의 빠른 입출력
    - 긴 수명 ?
    - 요량 대비 고가겨
- MLC ⇒ 한 집에 두 명
    - 한 셀로 네 개의 정보 표현 (대용량화 유리) (00,01, 10,11)
    - SLC  느린 입출력
    - SLC  보다 짧은 수명
    - SLC 보다 저렴
    - 시중에서 많이 사용된다.
- TLC ⇒ 한 집에 세 명
    - 한 셀로 여덟 개의 정보 표현
    - MLC 느린 입출력
    - MLC 보다 짧은 수명
    - MLC 보다 저렴
    - 시중에서 많이 사용된다.

*플래시 메모리 (USB, SSD, SD카드) 하드 디스크에는 수명이 있다. 

같은 플래시 메모리라도 타입에 따라 수명, 가격, 선능이 다르기 때문에 플래시 메모리 타입도 고려하는게 좋다!

플래시 메모리 단위

- 셀들이 모여 페이지
- 페이지들이 모여 블록
- 블록이 모여 플레인
- 플레인이 모여 다이

![Untitled (9)](https://user-images.githubusercontent.com/79884004/230232565-a8f30c58-b9af-4e40-9446-75d36abeff4d.png)

읽기/쓰기 단위와 삭제 단위는 다르다

- 읽기와 쓰기는 페이지 단위로 이루어진다.
- 삭제는 (페이지 보다 큰) 블록 단위로 이루어진다.

### 페이지의 상태

- Free 상태
    - 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
- Valid 상태
    - 이미 유효한 데이터를 저장하고 있는 상태
- Invalid 상태
    - 유효하지 않은 데이터(쓰레기값)를 저장하고 있는 상태

*플래시 메모리는 하드 디스크와 달리 덮어쓰기 불가능 

### 동작 예시

가비지 컬렉션 

1. 유효한 페이지들만을 새로운 블록으로 복사 
2. 기존의 블록을 삭제하여 공간을 정리한다.
![Untitled (10)](https://user-images.githubusercontent.com/79884004/230232568-f4658421-0de3-4c4e-83ff-7ad859278c2d.png)
