# 교착상태란

### 교착 상태?

일어나지 않을 사건을 기다리며 진행이 멈춰 버리는 현상

예시

게임, 웹 브라우저 자원A, B 모두 필요한 상황

게임 자원A 사용 중, 웹 브라우저 자원B 사용 중 

서로가 가지고 있는 자원이 할당 해제될  때까지 기다리다 한 번도 실행하지 못하는 상황이 벌어질 수 있다. → 교착 상태 

### 교착 상태 해결

1. 교착 생태가 발생했을 때의 상황을 정확히 표현해보기
2. 교착 상태가 일어나는 근본적인 이유 이해하기

교착 상태가 발생했을 때 상황을 표현하기 위한 그래프 → 자원 할당 그래프 

### 자원 할당 그래프

교착 상태 발생 조건 파악 가능 

- 어떤 프로세스가 어떤 자원을 할당 받아 사용 중인지 확인 가능
- 어떤 프로세스가 어떤 자원을 기다리고 있는지 확인 가능

표현

- 프로세스는 원으로, 자원의 종류는 사각형으로 표현
- 사용할 수 있는 자원의 개수는 자원 사각형 내 점으로 표현
- 프로세스가 어떤 자원을 할당 받아 사용 중이라면 자원에서 프로세스를 향해 화살표를 표시
- 프로세스가 어떤 자원을 기다리고 있다면 프로세스에서 자원으로 화살표를 표시

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c62bba97-499d-4508-b1e5-b3da922f3a83/Untitled.png)

- SSD 3개
- CPU 2개
- 프린터 1개
- 프로세스 A SSD 하나 할당 받아 사용 중
- 프로세스 B, C   각각 CPU를 할당 받아 사용 중
- 프로세스 D 프린터를 할당 받아 사용 중
- 프로세스 E  프린터에 사용을 기다리는 중
- 프로세스 F CPU의 할당을 기다리는 중

### 교착 상태 발생 그래프 특징

자원 할당  그래프가 **원의 형태**이다. 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/614f9f41-ba7c-45f6-bec7-d8dc65839327/Untitled.png)

### 교착 상태 발생 조건

1. 상호 배제
한 프로세스가 사용하는 자원을 다른 프로세스가 사용할 수 없는 상태
2. 점유와 대기
    
    자원을 할당 받은 상태에서 다른 자원을 기다리고 있는 상태
    
3. 비 선점
어떤 프로세스도 다른 프로세스의 자원을 강제로 빼앗지 못하는 상태
4. 원형 대기
    
    프로세스들이 원의 형태로 자원을 대기하는 형태
    

위 네 가지 조건을 모두 만족하면 교착 상태가 발생
